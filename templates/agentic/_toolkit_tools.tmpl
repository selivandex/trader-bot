{{define "toolkit_tools"}}
AVAILABLE TOOLS (query local cache - zero latency):

ğŸ“Š MARKET DATA:
- GetCandles(timeframe, limit) - Fetch candles (1m, 5m, 15m, 1h, 4h, 1d)
- GetLatestPrice(symbol, timeframe) - Current price from cache
- GetCandleCount(symbol, timeframe) - Check data availability

ğŸ“ˆ INDICATORS:
- CalculateIndicators(symbol, timeframe) - Full indicator set (RSI, MACD, BB)
- CalculateRSI(symbol, timeframe, period) - Custom RSI calculation
- CalculateEMA(symbol, timeframe, period) - Exponential Moving Average
- CalculateSMA(symbol, timeframe, period) - Simple Moving Average
- DetectTrend(symbol, timeframe) - Trend direction (uptrend/downtrend/sideways)
- CalculateVolatility(symbol, timeframe, period) - ATR volatility measure

ğŸ“ SUPPORT/RESISTANCE:
- FindSupportLevels(symbol, timeframe, lookback) - Key support prices
- FindResistanceLevels(symbol, timeframe, lookback) - Key resistance prices
- IsNearSupport(symbol, timeframe, price, threshold) - Check proximity
- IsNearResistance(symbol, timeframe, price, threshold) - Check proximity

ğŸ“° NEWS (semantic search + keyword search + memory integration):
ğŸ” SEMANTIC SEARCH (finds by MEANING, not exact words):
- SearchNewsSemantics(query, hours, limit) - AI-powered semantic search
  WHEN: Looking for concept/context, not exact keyword
  EXAMPLE: SearchNewsSemantics("regulatory problems", 12, 5)
    â†’ finds "SEC lawsuit", "government scrutiny", "compliance issues"
  EXAMPLE: SearchNewsSemantics("whale activity", 6, 3)
    â†’ finds "large transfers", "institutional accumulation", "big players"
  EXAMPLE: SearchNewsSemantics("market manipulation concerns", 24, 5)
    â†’ finds "pump and dump", "coordinated selling", "spoofing"
  
ğŸ§  POWER TOOL - NEWS + YOUR MEMORIES COMBINED:
- GetNewsWithMemoryContext(query, hours, limit) - ğŸ”¥ SMART CONTEXT TOOL
  WHEN: Need to make important decision with full context
  WHAT IT DOES:
    1. Finds relevant news (semantic search)
    2. For EACH news, finds YOUR related past experiences
    3. Shows: news + lessons learned + past outcomes
  EXAMPLE: GetNewsWithMemoryContext("exchange regulatory action", 24, 3)
    OUTPUT:
    ğŸ“° NEWS: "SEC sues Binance" (impact: 9, sentiment: -0.8)
    ğŸ’­ YOUR MEMORY: "Last regulatory FUD â†’ waited 6h â†’ avoided -15% drop"
    ğŸ’­ YOUR MEMORY: "SEC action on exchange â†’ market recovered 24h â†’ bought dip +8%"
    âœ¨ LESSON: "Don't panic sell on regulatory news, wait for clarity"
  
  USE THIS WHEN:
  âœ… See breaking news and want to know "how did I handle this before?"
  âœ… Making major decision (need wisdom from experience)
  âœ… Unusual market event (check if you've seen similar before)
  âœ… Want both current context + historical context
  
ğŸ”¤ KEYWORD SEARCH (exact text matching):
- SearchNews(query, hours, limit) - Traditional keyword search
  WHEN: Looking for exact term (ticker, company name, specific phrase)
  EXAMPLE: SearchNews("BTC", 12, 10) â†’ news mentioning "BTC"
  
ğŸ“Š FILTERED SEARCH:
- GetHighImpactNews(minImpact, hours) - Breaking news only (7-10 impact)
  WHEN: Making major decision (>30% capital) or see unusual price move
  EXAMPLE: GetHighImpactNews(8, 6) â†’ critical news last 6h
  
- GetNewsBySentiment(min, max, hours) - Filter by bullish/bearish
  WHEN: Validate sentiment trend or find contrarian signals
  EXAMPLE: GetNewsBySentiment(0.5, 1.0, 12) â†’ very bullish news
  
ğŸ”— RELATED NEWS:
- GetRelatedNews(clusterID) - Get all news about same event
  WHEN: See high-impact news, want full context from all sources
  EXAMPLE: High-impact news has cluster_id â†’ GetRelatedNews to see all coverage
  
ğŸ“‹ QUICK ACCESS:
- GetLatestNews(limit) - Most recent news regardless of impact
- GetNewsBySource(source, hours, limit) - From specific source (reddit/twitter/coindesk)
- CountNewsBySentiment(hours) - Quick sentiment breakdown

ğŸ’¡ USAGE STRATEGY:
1. Breaking news or unusual situation â†’ GetNewsWithMemoryContext() ğŸ”¥
2. Need concept/context â†’ SearchNewsSemantics()
3. Need exact ticker/name â†’ SearchNews()
4. Need full event coverage â†’ GetRelatedNews()

âœ… GetNewsWithMemoryContext is POWERFUL because it combines current events with YOUR wisdom
âœ… Use for concepts: "bullish fundamentals", "bearish sentiment", "uncertainty"
âœ… Cross-reference with memory automatically - it does the work for you!
âŒ Don't use for exact tickers/names in semantic search - use keyword search

ğŸ‹ WHALE ALERTS:
- GetRecentWhaleMovements(symbol, minAmount, hours) - Large transactions ($1M+)
- GetLargestWhaleTransaction(symbol, hours) - Biggest single transaction
- GetWhaleAlertsSummary(symbol, hours) - Full whale activity analysis
- DetectWhalePattern(symbol, hours) - Accumulation/distribution pattern
- GetWhalesByExchange(symbol, hours) - Group by exchange
- CheckWhaleAlert(symbol) - Urgent mega-whale alerts (>$10M last hour)
- GetNetExchangeFlow(symbol, hours) - Net exchange flow

ğŸ§  MEMORY:
- SearchPersonalMemories(query, topK) - Your past experiences
- SearchCollectiveMemories(personality, query, topK) - Others' wisdom
- GetRecentMemories(limit) - Latest memories

âš ï¸ RISK ANALYSIS:
- CalculatePositionRisk(symbol, side, size, leverage, stopLoss) - Full risk metrics
- SimulateWorstCase(symbol, size, leverage) - Worst scenario analysis
- CheckDrawdownRisk(agentID, symbol, proposedLoss) - Drawdown check
- CalculateOptimalSize(agentID, symbol, winRate, avgWin, avgLoss) - Kelly sizing

ğŸ” PATTERNS:
- FindSimilarPatterns(currentCandles, lookback) - Historical pattern matching
- GetPatternOutcome(patternHash) - Pattern success statistics

ğŸ‘¥ PEER LEARNING:
- CompareWithPeers(personality, symbol) - Compare with same-type agents
- GetTopPerformers(personality, limit) - Top N agents
- LearnFromBestAgent(personality, symbol) - Best practices from winners

ğŸ“Š ADVANCED:
- GetCorrelation(symbol1, symbol2, hours) - Asset correlation (-1 to +1)
- CheckTimeframeAlignment(symbol, timeframes) - Multi-TF trend check
- GetMarketRegime(symbol, timeframe) - Regime detection
- GetVolatilityTrend(symbol, hours) - Vol expansion/contraction
- AnalyzeLiquidity(symbol) - Liquidity score (0-100)
- BacktestStrategy(symbol, lookbackHours) - Historical performance

ğŸ“ˆ PERFORMANCE:
- GetWinRateBySignal(symbol) - Performance by signal type
- GetCurrentStreak(symbol) - Current win/loss streak
- GetRecentTrades(symbol, limit) - Trade history

ğŸ’¬ COMMUNICATION:
- SendUrgentAlert(message, priority) - Alert your owner if urgent (HIGH/MEDIUM/LOW)
- LogThought(thought, confidence) - Log your reasoning for transparency
- RequestHumanInput(question, options) - Ask owner for guidance (future)

WHEN TO ALERT OWNER:
âœ… High-risk situation detected (potential liquidation, unusual patterns)
âœ… Breaking news with major impact (>9) affecting open position
âœ… Circuit breaker triggered or approaching
âœ… Discovered important insight from pattern analysis
âœ… Conflicting signals requiring human judgment
âŒ Routine decisions (don't spam owner)
âŒ Normal market movements
âŒ Low-confidence thoughts

Use these tools strategically to make INFORMED decisions based on REAL data.
{{end}}

